<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User API</title>
</head>
<body onload="getData()">
    <input type="text" name="name" id="name">
    <input type="text" name="email" id="email">
    <input type="text" name="address" id="address">
    <button onclick="postData()">Submit</button>
    <br>
    <div>
        <input type="numer" name="id" id="id" placeholder="Enter ID to delete">
        <button onclick="deleteData()">Delete</button>
    </div>



    <table  id="data-table">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Address</th>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </table>



<script>
    
    function postData(){
    var name=document.getElementById("name").value;
    var email=document.getElementById("email").value;
    var address=document.getElementById("address").value;
        axios.post("https://assigment-api-hammad.herokuapp.com/user",{
        name:name,
        email:email,
        address:address

       }).then((res)=>{
        console.log("created Successfully")
    }).catch((e)=>{
        console.log(e)
    })
        console.log(name,email,address)


    }
function getData(){
    let dataTable = document.getElementById("data-table");
    axios.get('https://assigment-api-hammad.herokuapp.com/users')
  .then(function (response) {
    // handle success
    response.data.map((v,i)=>{
        dataTable.innerHTML += `<tr>
          <td>${v.name}</td>
          <td>${v.email}</td>
          <td>${v.address}</td>
        </tr>`
    })
    console.log(response.data);

    
  })
}
function deleteData(){
    let id = document.getElementById("id").value;
    axios.delete(`https://assigment-api-hammad.herokuapp.com/user/${id}`)
    .then((res)=>{
        console.log("Deleted Successfully")
    }).catch((e)=>{
        console.log(e)
    })
}    

</script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</body>
</html>